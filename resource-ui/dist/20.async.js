(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"7Nec":function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("BoS7");var i=n(a("Sdc0"));a("5Dmo");var u=n(a("3S7+")),d=n(a("pVnL")),r=n(a("lwsE")),o=n(a("W8MJ")),c=n(a("a1gu")),s=n(a("Nsbk")),f=n(a("7W2i"));a("5NDa");var p=n(a("5rEg"));a("7Kak");var m=n(a("9yH6"));a("y8nQ");var v=n(a("Vl3Y")),h=l(a("q1tI")),b=v.default.Item,g=m.default.Button,k=m.default.Group,y=p.default.TextArea,E=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldsError,e.getFieldError,e.isFieldTouched,e.getFieldValue,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:18}}});return h.default.createElement(v.default,null,h.default.createElement(b,(0,d.default)({},a,{label:"\u6807\u9898"}),t("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u544a\u6807\u9898"}]})(h.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165\u516c\u544a\u6807\u9898"}))),h.default.createElement(b,(0,d.default)({},a,{label:"\u516c\u544a\u5185\u5bb9"}),t("content",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u516c\u544a\u5185\u5bb9!"}]})(h.default.createElement(y,{autosize:!0,placeholder:"\u8bf7\u586b\u5199\u8981\u53d1\u5e03\u7684\u516c\u544a\u5185\u5bb9"}))),h.default.createElement(b,(0,d.default)({},a,{label:"\u516c\u544a\u7b49\u7ea7"}),t("level",{initialValue:"low",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u516c\u544a\u5185\u5bb9!"}]})(h.default.createElement(k,null,h.default.createElement(u.default,{title:"\u9ad8\u7b49\u7ea7\u4f1a\u4ee5\u4e3b\u52a8\u5f39\u51fa\u6846\u7684\u5f62\u5f0f\u51fa\u73b0\u5728Rainbond"},h.default.createElement(g,{value:"high"},"\u9ad8")),h.default.createElement(g,{value:"mid"},"\u4e2d"),h.default.createElement(g,{value:"low"},"\u4f4e")))),h.default.createElement(b,(0,d.default)({},a,{label:"\u516c\u544a\u94fe\u63a5"}),t("a_tag_url",{rules:[{required:!1}]})(h.default.createElement(p.default,{placeholder:"\u9009\u586b"}))),h.default.createElement(b,(0,d.default)({},a,{label:"\u662f\u5426\u542f\u7528"}),t("active",{valuePropName:"checked",initialValue:!0})(h.default.createElement(i.default,null))))}}]),t}(h.Component),C=v.default.create()(E),_=C;t.default=_},H5TF:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i,u,d=l(a("kLXV")),r=l(a("lwsE")),o=l(a("W8MJ")),c=l(a("a1gu")),s=l(a("Nsbk")),f=l(a("7W2i")),p=l(a("ZDp4")),m=n(a("q1tI")),v=a("MuoO"),h=l(a("7Nec")),b=(i=(0,v.connect)(function(e){return(0,p.default)(e),{}}),i(u=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,c.default)(this,(0,s.default)(t).call(this,e)),a.onOk=function(e){var t=a.props,l=t.onOk,n=t.dispatch,i=t.data;a.form.validateFields(function(e,t){e||(i?(console.log(i),n({type:"platformSetting/updateNotice",payload:{title:t.title,content:t.content,a_tag_url:t.a_tag_url,active:t.active,level:t.level,announcement_id:i.announcement_id},callback:function(e){l&&l(e)}})):n({type:"platformSetting/addNotice",payload:{title:t.title,content:t.content,a_tag_url:t.a_tag_url,active:t.active,level:t.level},callback:function(e){l&&l(e)}}))})},a.saveForm=function(e){a.form=e,a.form&&a.props.data&&a.form.setFieldsValue(a.props.data)},a.onCancel=function(){var e=a.props.onCancel;e&&e()},a.afterClose=function(){a.reset()},a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"reset",value:function(){this.form.resetFields()}},{key:"render",value:function(){var e=this.props.visible;return m.default.createElement(d.default,{visible:e,title:"\u6dfb\u52a0\u516c\u544a",onOk:this.onOk,onCancel:this.onCancel,afterClose:this.afterClose,maskStyle:{backgroundColor:"rgba(59,59,59,0.4)"}},m.default.createElement(h.default,{ref:this.saveForm}))}}]),t}(m.Component))||u),g=b;t.default=g},M2Be:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var i=l(a("VXEj"));a("IzEo");var u=l(a("bx4M"));a("+L6B");var d=l(a("2/Rp"));a("miYZ");var r=l(a("tsqr")),o=l(a("lwsE")),c=l(a("W8MJ")),s=l(a("a1gu")),f=l(a("Nsbk")),p=l(a("7W2i")),m=l(a("ZDp4"));a("2qtc");var v,h,b=l(a("kLXV")),g=n(a("q1tI")),k=a("MuoO"),y=(a("LLXN"),l(a("H5TF"))),E=b.default.confirm,C=(v=(0,k.connect)(function(e){return(0,m.default)(e),{}}),v(h=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,s.default)(this,(0,f.default)(t).call(this,e)),a.handleCreateOk=function(){a.setState({visibleCreate:!1}),r.default.success("\u521b\u5efa\u6210\u529f"),a.load()},a.handleCreateCancel=function(){a.setState({visibleCreate:!1})},a.handleEditCancel=function(){a.setState({visibleUpdate:!1})},a.handleEditOk=function(e){a.setState({visibleUpdate:!1}),r.default.success(e.msg_show,2,function(){a.load()})},a.state={data:"",page_size:50,page_num:1,visibleCreate:!1,visibleUpdate:!1,editData:""},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"handlePagition",value:function(e){var t=this;this.setState({page_num:e},function(){t.load()})}},{key:"handleDel",value:function(e){var t=this;E({title:"\u5220\u9664\u786e\u8ba4",content:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u516c\u544a\u5417\uff1f",onOk:function(){t.props.dispatch({type:"platformSetting/delNotification",payload:{announcement_id:e.announcement_id},callback:function(e){console.log(e),r.default.success(e.msg_show||"\u5220\u9664\u6210\u529f",2,function(){t.load()})}})}})}},{key:"handleMod",value:function(e){this.setState({editData:e,visibleUpdate:!0})}},{key:"handleAdd",value:function(e){this.setState({visibleCreate:!0})}},{key:"load",value:function(){var e=this,t=this.state,a=t.page_num,l=t.page_size;this.props.dispatch({type:"platformSetting/notification",payload:{page_num:a,page_size:l},callback:function(t){e.setState({data:t.list})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,l=t.visibleCreate,n=t.visibleUpdate;return g.default.createElement("div",null,g.default.createElement(i.default,{dataSource:a,bordered:!1,pagination:{onChange:function(t){e.handlePagition(t)}},renderItem:function(t){return g.default.createElement(i.default.Item,null,g.default.createElement(u.default,{style:{width:"100%"},bodyStyle:{padding:"5px 24px"},headStyle:{borderBottom:"0px solid black"},bordered:!1,title:t.title},t.content,g.default.createElement(u.default,{bodyStyle:{padding:"5px 0px",color:"#c9c9c9"},bordered:!1},t.create_time," | \u516c\u544a\u7b49\u7ea7:[","high"==t.level?"\u9ad8":"mid"==t.level?"\u4e2d":"\u4f4e","]",g.default.createElement(d.default,{type:"primary",size:"small",style:{float:"right"},onClick:e.handleDel.bind(e,t)},"\u5220\u9664"),g.default.createElement(d.default,{type:"primary",size:"small",style:{float:"right",margin:"0 2px"},onClick:e.handleMod.bind(e,t)},"\u4fee\u6539"),g.default.createElement(d.default,{type:"primary",size:"small",style:{float:"right"},onClick:e.handleAdd.bind(e,t)},"\u6dfb\u52a0")),l&&g.default.createElement(y.default,{onOk:e.handleCreateOk,onCancel:e.handleCreateCancel,visible:e.state.visibleCreate}),n&&g.default.createElement(y.default,{data:e.state.editData,onOk:e.handleEditOk,onCancel:e.handleEditCancel,visible:e.state.visibleUpdate})))}}))}}]),t}(g.Component))||h),_=C;t.default=_}}]);