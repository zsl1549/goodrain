(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"/+Qc":function(e,t,a){e.exports={area_code:"antd-pro-pages-system-settings-phone-view-area_code",phone_number:"antd-pro-pages-system-settings-phone-view-phone_number"}},"6IW9":function(e,t,a){"use strict";var n=a("284h"),i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=i(a("5rEg")),l=i(a("lwsE")),s=i(a("W8MJ")),o=i(a("a1gu")),u=i(a("Nsbk")),c=i(a("7W2i")),p=n(a("q1tI")),d=i(a("/+Qc")),f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onChange,n=["",""];return t&&(n=t.split("-")),p.default.createElement(p.Fragment,null,p.default.createElement(r.default,{className:d.default.area_code,value:n[0],onChange:function(e){a("".concat(e.target.value,"-").concat(n[1]))}}),p.default.createElement(r.default,{className:d.default.phone_number,onChange:function(e){a("".concat(n[0],"-").concat(e.target.value))},value:n[1]}))}}]),t}(p.PureComponent),v=f;t.default=v},k3XB:function(e,t,a){"use strict";var n=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var r=n(a("W9HT")),l=n(a("lwsE")),s=n(a("W8MJ")),o=n(a("a1gu")),u=n(a("Nsbk")),c=n(a("7W2i"));a("OaEy");var p,d,f=n(a("2fM7")),v=i(a("q1tI")),g=a("MuoO"),m=n(a("qBla")),h=f.default.Option,y={label:"",key:""},b=(p=(0,g.connect)(function(e){var t=e.geographic,a=t.province,n=t.isLoading,i=t.city;return{province:a,city:i,isLoading:n}}),p(d=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i))),a.componentDidMount=function(){var e=a.props.dispatch;e({type:"geographic/fetchProvince"})},a.getCityOption=function(){var e=a.props.city;return a.getOption(e)},a.getOption=function(e){return!e||e.length<1?v.default.createElement(h,{key:0,value:0},"\u6ca1\u6709\u627e\u5230\u9009\u9879"):e.map(function(e){return v.default.createElement(h,{key:e.id,value:e.id},e.name)})},a.selectProvinceItem=function(e){var t=a.props,n=t.dispatch,i=t.onChange;n({type:"geographic/fetchCity",payload:e.key}),i({province:e,city:y})},a.selectCityItem=function(e){var t=a.props,n=t.value,i=t.onChange;i({province:n.province,city:e})},a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.dispatch,n=t.value;!e.value&&n&&n.province&&a({type:"geographic/fetchCity",payload:n.province.key})}},{key:"getProvinceOption",value:function(){var e=this.props.province;return this.getOption(e)}},{key:"conversionObject",value:function(){var e=this.props.value;if(!e)return{province:y,city:y};var t=e.province,a=e.city;return{province:t||y,city:a||y}}},{key:"render",value:function(){var e=this.conversionObject(),t=e.province,a=e.city,n=this.props.isLoading;return v.default.createElement(r.default,{spinning:n,wrapperClassName:m.default.row},v.default.createElement(f.default,{className:m.default.item,value:t,labelInValue:!0,showSearch:!0,onSelect:this.selectProvinceItem},this.getProvinceOption()),v.default.createElement(f.default,{className:m.default.item,value:a,labelInValue:!0,showSearch:!0,onSelect:this.selectCityItem},this.getCityOption()))}}]),t}(v.PureComponent))||d),E=b;t.default=E},kzKK:function(e,t,a){"use strict";var n=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=n(a("5rEg"));a("miYZ");var l=n(a("tsqr")),s=n(a("lwsE")),o=n(a("W8MJ")),u=n(a("a1gu")),c=n(a("Nsbk")),p=n(a("7W2i")),d=n(a("ZDp4"));a("DZo9");var f=n(a("8z0m"));a("+L6B");var v=n(a("2/Rp"));a("OaEy");var g=n(a("2fM7"));a("y8nQ");var m,h,y,b=n(a("Vl3Y")),E=i(a("q1tI")),w=a("LLXN"),k=a("MuoO"),M=n(a("njoP")),_=(n(a("k3XB")),n(a("6IW9")),n(a("nyIC"))),C=b.default.Item,N=(g.default.Option,function(e){var t=e.avatar;return E.default.createElement(E.Fragment,null,E.default.createElement("div",{className:M.default.avatar_title},"Logo"),E.default.createElement("div",{className:M.default.avatar},E.default.createElement("img",{src:t,alt:"\u597d\u96e8\u4e91\u5e2elogo",style:{backgroundColor:"#02213f"}})),console.log(_.default.baseUrl),E.default.createElement(f.default,{accept:"image/jpg,image/jpeg,image/png",action:_.default.baseUrl+"backend/file/upload",fileList:[]},E.default.createElement("div",{className:M.default.button_view},E.default.createElement(v.default,{icon:"upload"},E.default.createElement(w.FormattedMessage,{id:"app.settings.basic.avatar",defaultMessage:"Change avatar"})))))}),O=(m=(0,k.connect)(function(e){return(0,d.default)(e),{}}),h=b.default.create(),m(y=h(y=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,u.default)(this,(0,c.default)(t).call(this,e)),a.handleEdit=function(){var e=a.props.form.getFieldValue("title"),t=a.props.form.getFieldValue("enterprise");console.log(e,t),a.props.dispatch({type:"platformSetting/editTitle",payload:{title:e,enterprice:t},callback:function(e){l.default.success(e.msg_show||"\u4fee\u6539\u6210\u529f",2,function(){})}})},a.getViewDom=function(e){a.view=e},a.state={title:"",logoUrl:"",enterpriceName:"",fileList:[]},a}return(0,p.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.getTitle(),this.getAvatarURL(),this.getEnterprice()}},{key:"getTitle",value:function(){var e=this;this.props.dispatch({type:"platformSetting/getTitle",callback:function(t){e.setState({title:t.bean.title},function(){var t=e.state.title,a=e.props.form;a.setFieldsValue({title:t})})}})}},{key:"getEnterprice",value:function(){var e=this;this.props.dispatch({type:"platformSetting/getEnterprice",callback:function(t){e.setState({enterprise:t.bean.enterprise_alias},function(){var t=e.state.enterprise,a=e.props.form;a.setFieldsValue({enterprise:t})})}})}},{key:"getAvatarURL",value:function(){var e=this;this.props.dispatch({type:"platformSetting/getLogo",callback:function(t){e.setState({logoUrl:"http://"+t.bean.logo})}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return E.default.createElement("div",{className:M.default.baseView,ref:this.getViewDom},E.default.createElement("div",{className:M.default.left},E.default.createElement(b.default,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0},E.default.createElement(C,{label:(0,w.formatMessage)({id:"app.settings.basic.platformTitle"})},e("title",{rules:[{required:!0,message:(0,w.formatMessage)({id:"none"},{})}]})(E.default.createElement(r.default,null))),E.default.createElement(C,{label:(0,w.formatMessage)({id:"app.settings.basic.enterpriseName"})},e("enterprise",{rules:[{required:!0,message:(0,w.formatMessage)({id:"none"},{})}]})(E.default.createElement(r.default,null))),E.default.createElement(v.default,{type:"primary",onClick:this.handleEdit},E.default.createElement(w.FormattedMessage,{id:"app.settings.basic.update",defaultMessage:"Update Information"})))),E.default.createElement("div",{className:M.default.right},E.default.createElement(N,{avatar:this.state.logoUrl})))}}]),t}(E.Component))||y)||y),I=O;t.default=I},njoP:function(e,t,a){e.exports={baseView:"antd-pro-pages-system-settings-base-view-baseView",left:"antd-pro-pages-system-settings-base-view-left",right:"antd-pro-pages-system-settings-base-view-right",avatar_title:"antd-pro-pages-system-settings-base-view-avatar_title",avatar:"antd-pro-pages-system-settings-base-view-avatar",button_view:"antd-pro-pages-system-settings-base-view-button_view"}},qBla:function(e,t,a){e.exports={row:"antd-pro-pages-system-settings-geographic-view-row",item:"antd-pro-pages-system-settings-geographic-view-item"}}}]);