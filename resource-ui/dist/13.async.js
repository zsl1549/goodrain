(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{O4fi:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("pVnL"));a("5NDa");var r=n(a("5rEg")),o=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i"));a("y8nQ");var f=n(a("Vl3Y"));a("OaEy");var h,m,p=n(a("2fM7")),g=l(a("q1tI")),v=a("MuoO"),y=p.default.Option,b=f.default.Item,C=(h=(0,v.connect)(function(e){var t=e.region;return{region:t}}),h(m=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,d.default)(this,(0,s.default)(t).call(this,e)),a.state={dataCenterList:[]},a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.loadDataCenter()}},{key:"loadDataCenter",value:function(){var e=this.props.region,t=e.regions;console.log(t),this.setState({dataCenterList:t})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:18}}},a=this.state.dataCenterList;return g.default.createElement(f.default,null,g.default.createElement(b,(0,i.default)({},t,{label:"\u56e2\u961f\u540d\u79f0"}),e("tenant_name",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u56e2\u961f\u540d\u79f0!"}]})(g.default.createElement(r.default,{placeholder:"\u8bf7\u586b\u5199\u56e2\u961f\u540d\u79f0!"}))),g.default.createElement(b,(0,i.default)({},t,{label:"\u6570\u636e\u4e2d\u5fc3"}),e("useable_regions",{initialValue:[],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u4e2d\u5fc3!"}]})(g.default.createElement(p.default,{multiple:!0,style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u4e2d\u5fc3"},a.map(function(e,t){return g.default.createElement(y,{key:t,value:""+e.region_name},e.region_alias)})))))}}]),t}(g.Component))||m),E=f.default.create()(C),k=E;t.default=k},V3gT:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("lwsE")),r=n(a("W8MJ")),o=n(a("a1gu")),u=n(a("Nsbk")),d=n(a("7W2i")),s=n(a("ZDp4"));a("OaEy");var c,f,h=n(a("2fM7")),m=l(a("q1tI")),p=a("MuoO"),g=h.default.Option,v=(c=(0,p.connect)(function(e){return(0,s.default)(e),{}}),c(f=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,o.default)(this,(0,u.default)(t).call(this,e)),a.handleSearch=function(e){a.props.dispatch({type:"global/searchTenant",payload:{tenant:e},callback:function(e){a.setState({data:e.list||[]})}})},a.handleChange=function(e){a.setState({tenant:e},function(){var e=a.state.tenant;a.props.onChange(e)})},a.state={data:[],tenant:void 0},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){this.setState({data:[],tenant:""})}},{key:"render",value:function(){var e=this.state.data.map(function(e){return m.default.createElement(g,{key:e.tenant_alias},e.tenant_alias)});return m.default.createElement(h.default,{showSearch:!0,placeholder:this.props.placeholder,value:this.state.tenant,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onChange:this.handleChange,notFoundContent:null,onSearch:this.handleSearch,style:this.props.style},e)}}]),t}(m.Component))||f),y=v;t.default=y},"aI/B":function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var i=n(a("bx4M"));a("g9YV");var r=n(a("wCAj"));a("+L6B");var o=n(a("2/Rp"));a("miYZ");var u=n(a("tsqr")),d=n(a("lwsE")),s=n(a("W8MJ")),c=n(a("a1gu")),f=n(a("Nsbk")),h=n(a("7W2i")),m=n(a("ZDp4"));a("2qtc");var p,g,v=n(a("kLXV")),y=l(a("q1tI")),b=a("MuoO"),C=(a("eO8H"),n(a("v99g"))),E=n(a("e7T+")),k=n(a("O4fi")),S=v.default.confirm,w=(p=(0,b.connect)(function(e){return(0,m.default)(e),{}}),p(g=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,c.default)(this,(0,f.default)(t).call(this,e)),a.onPageChange=function(e){a.setState({pageNumber:e},function(){a.loadList()})},a.handleSearch=function(e){a.props.dispatch({type:"teamManage/searchTeam",payload:{tenant_alias:e},callback:function(e){a.setState({total:e.list.length,dataSource:e.list})}})},a.handleCreateTeam=function(){var e=a.state.Eid;console.log(e),a.teamForm.validateFields(function(t,n){t||a.props.dispatch({type:"teamManage/createTeam",payload:{tenant_name:n["tenant_name"],enterprise_id:e,useable_regions:n["useable_regions"]},callback:function(e){a.handleCancelCreateTeam(),u.default.success(e.msg_show,2,function(){a.reloadList()})}})})},a.handleCancelCreateTeam=function(){a.setState({showAddTeam:!1})},a.saveTeamFrom=function(e){a.teamForm=e},a.showCreateTeam=function(){a.setState({showAddTeam:!0})},a.handleDelete=function(e){var t=e.tenant_name;S({title:"\u5220\u9664\u786e\u8ba4",content:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u56e2\u961f\u5417\uff1f",onOk:function(){a.props.dispatch({type:"teamManage/deleteTeam",payload:{tenant_name:t},callback:function(e){console.log(e),u.default.success(decodeURIComponent(e.msg_show),2,function(){a.reloadList()})}})}})},a.state={loading:!0,dataSource:[],showAddTeam:!1,toAddMemberTeam:!1,pageNumber:1,pageSize:50,total:0,Eid:""},a}return(0,h.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadList(),this.props.dispatch({type:"teamManage/queryEid",callback:function(t){e.setState({Eid:t.bean.eid})}})}},{key:"loadList",value:function(){var e=this,t=this.state,a=t.pageNumber,n=t.pageSize;this.props.dispatch({type:"teamManage/searchAllTeam",payload:{pageNumber:a,pageSize:n},callback:function(t){e.setState({dataSource:t.list||[],total:t.total,loading:!1})}})}},{key:"reloadList",value:function(){var e=this;this.setState({pageNumber:1},function(){e.loadList()})}},{key:"render",value:function(){var e=this,t=[{title:"\u56e2\u961f\u522b\u540d",dataIndex:"tenant_alias",width:"25%"},{title:"\u56e2\u961f\u540d\u79f0",dataIndex:"tenant_name",width:"25%"},{title:"\u6210\u5458\u6570\u91cf",dataIndex:"user_num",width:"25%"},{title:"\u64cd\u4f5c",dataIndex:"action",width:"25%",key:"action",render:function(t,a,n){return y.default.createElement("div",null,y.default.createElement(o.default,{onClick:e.handleDelete.bind(e,a)},"\u5220\u9664"))}}],a=this.state,n=a.dataSource,l=a.pageNumber,u=a.pageSize,d=a.total,s=a.showAddTeam,c=a.toAddMemberTeam,f=a.loading;return y.default.createElement(C.default,null,y.default.createElement(i.default,{title:y.default.createElement("div",{style:{display:"flex",alignItems:"center"}},y.default.createElement(E.default,{onSearch:this.handleSearch}),y.default.createElement(o.default,{onClick:this.showCreateTeam,type:"primary",icon:"plus",style:{marginLeft:"115%"}},"\u521b\u5efa\u56e2\u961f"))},y.default.createElement(r.default,{scroll:{y:window.outerHeight-450},loading:f,bordered:!0,columns:t,pagination:{total:d,pageNumber:l,pageSize:u,onChange:this.onPageChange},dataSource:n})),s&&y.default.createElement(v.default,{title:"\u521b\u5efa\u56e2\u961f",visible:!0,onOk:this.handleCreateTeam,onCancel:this.handleCancelCreateTeam},y.default.createElement(k.default,{ref:this.saveTeamFrom})),c&&y.default.createElement(AddTeamMember,{tenantName:c.tenant_name,onOk:this.onAddMemberOk,onCancel:this.handleCancelAddMember}))}}]),t}(y.Component))||g),_=w;t.default=_},"e7T+":function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var i=l(a("2/Rp")),r=l(a("lwsE")),o=l(a("W8MJ")),u=l(a("a1gu")),d=l(a("Nsbk")),s=l(a("7W2i")),c=l(a("ZDp4"));a("y8nQ");var f=l(a("Vl3Y"));a("OaEy");var h=l(a("2fM7")),m=n(a("q1tI")),p=a("MuoO"),g=l(a("V3gT")),v=(h.default.Option,f.default.Item);(0,p.connect)(function(e){return(0,c.default)(e),{}});var y=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,u.default)(this,(0,d.default)(t).call(this,e)),a.handleSearch=function(e){var t=a.props.onSearch;t&&t(a.state.tenant_alias)},a.onChange=function(e){a.setState({tenant_alias:e})},a.state={tenant_alias:""},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){this.state.team;return m.default.createElement(f.default,{layout:"inline",style:{display:"inline-block"}},m.default.createElement(v,null,m.default.createElement(g.default,{placeholder:"\u8bf7\u8f93\u5165\u56e2\u961f\u522b\u540d\u8fdb\u884c\u67e5\u8be2",style:{width:200},onChange:this.onChange})),m.default.createElement(v,null,m.default.createElement(i.default,{type:"primary",onClick:this.handleSearch,icon:"search"},"\u641c\u7d22")))}}]),t}(m.Component),b=y;t.default=b}}]);